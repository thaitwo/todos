!function(t){var o={};function e(s){if(o[s])return o[s].exports;var i=o[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=o,e.d=function(t,o,s){e.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,o){if(1&o&&(t=e(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var i in t)e.d(s,i,function(o){return t[o]}.bind(null,i));return s},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},e.p="",e(e.s=0)}([function(t,o){({init:function(){this.$todosList=$("#todos-list"),this.$todoInput=$("#todo-input"),this.$clearButton=$("#clear-button"),this.todos=store.get("todos")||[],this.$deleteIcon,this.escPressed,this.displayTodosOnLoad(),this.getInputValue(),this.storageHasData(),this.activateEventHandlers(),this.activateClearButton()},activateEventHandlers:function(){this.$todosList.on("dblclick","label",this.focusOnTodoForEditing.bind(this)).on("keyup","input.todo-edit",this.updateOnEnter.bind(this)).on("blur","input.todo-edit",this.updateAndClose.bind(this)).on("click",'input[type="checkbox"]',this.toggleCheckbox.bind(this))},getInputValue:function(){var t=this;this.$todoInput.on("keypress",function(o){if(13===(o.which||o.keyCode)){var e={task:$(o.target).val().trim(),completed:!1};t.todos.push(e),store.set("todos",t.todos),t.$todoInput.val(""),todoHTML='<li class="todo-item"><div class="todo-view"><input type="checkbox"><label>'+e.task+'</label><button class="delete-icon"><i class="fas fa-times fa-lg"></i></button></div><input class="todo-edit" value="'+e.task+'"></li>',t.$todosList.append(todoHTML),t.$deleteIcon=$(".delete-icon"),t.$clearButton.addClass("is-visible"),t.activateDeleteButton()}})},toggleCheckbox:function(t){var o=$(t.currentTarget).prop("checked"),e=$(t.currentTarget).siblings("label").text(),s=this.getIndex(e);this.todos[s].completed=o,store.set("todos",this.todos),this.displayTodos(this.todos)},focusOnTodoForEditing:function(t){$(t.currentTarget).closest("li").addClass("editing"),$(".todo-edit").focus()},updateOnEnter:function(t){var o=t.which||t.keyCode;27===o&&(this.escPressed=!0,this.$todoInput.focus()),13===o&&this.$todoInput.focus()},updateAndClose:function(t){var o=t.target.defaultValue,e=t.target.value.trim(),s=this.getIndex(o);!0===this.escPressed?this.displayTodos(this.todos):""===e?(this.$todoInput.focus(),this.todos.splice(s,1),store.set("todos",this.todos),this.displayTodos(this.todos)):(this.$todoInput.focus(),this.todos[s].task=e,store.set("todos",this.todos),this.displayTodos(this.todos)),$(t.currentTarget).closest("li").removeClass("editing"),this.escPressed=!1},activateClearButton:function(){this.$clearButton.on("click",function(t){t.preventDefault(),this.todos=[],store.set("todos",this.todos),this.$todosList.empty()}.bind(this))},getIndex:function(t){for(var o=0;o<this.todos.length;o++)if(this.todos[o].task===t)return o},activateDeleteButton:function(){var t=this;this.$deleteIcon.on("click",function(o){o.preventDefault();var e=o.currentTarget.parentElement.textContent,s=t.getIndex(e);s>-1&&t.todos.splice(s,1),store.set("todos",t.todos),t.displayTodos(t.todos)})},storageHasData:function(){return this.todos.length>0},displayTodos:function(t){t=t.map(function(t){var o,e;return!0===t.completed?(o="checked",e="completed"):(o="",e=""),'<li class="todo-item"><div class="todo-view"><input type="checkbox"'+o+'><label class="'+e+'">'+t.task+'</label><button class="delete-icon"><i class="fas fa-times fa-lg"></i></button></div><input class="todo-edit" value="'+t.task+'"></li>'}),this.$todosList.empty(),this.$todosList.append(t),this.$deleteIcon=$(".delete-icon"),this.activateDeleteButton()},displayTodosOnLoad:function(){!0===this.storageHasData()&&this.displayTodos(this.todos)}}).init()}]);